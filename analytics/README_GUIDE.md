# Analytics Task Guide

## 1. Generate Sample Data

Run the following command to populate the database with diverse sample data:

```
python manage.py generate_sample_data
```

This will create:

- Paid and unpaid orders
- Registered and anonymous users
- Events with and without capacity
- Multiple ticket types per event
- Varied ticket sales (full, nearly empty, no sales)

## 2. Analytics Functions

All analytics functions are implemented in `event_analytics.py`.

### Example Usage

```
from analytics.event_analytics import your_function
result = your_function(...)
print(result)
```

### Edge Cases Considered

- Orders with no user (anonymous)
- Events with no capacity
- Events with no ticket sales
- Orders with mixed status

### Performance Optimizations

- Use of select_related and prefetch_related to minimize DB queries
- Use of annotate and aggregate for efficient calculations
- Indexing on frequently queried fields

## 3. Inspecting SQL Queries

To check the raw SQL generated by a QuerySet:

```
qs = ... # your queryset
print(qs.query)
```

## 4. Contact

For any issues, contact the author.
